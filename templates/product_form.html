{% extends 'base.html' %}
{% block title %}{{ action }} Producto{% endblock %}
{% block page_title %}{{ action }} Producto{% endblock %}
{% block content %}
<div class="form-card">
  <h3>{{ action }} Producto</h3>
  <form method="post" enctype="multipart/form-data">
    <label>Nombre</label>
    <input type="text" name="name" required value="{{ product.name if product else '' }}">
    <label>Categoría</label>
    <select name="category_id">
      <option value="">-- Sin categoría --</option>
      {% for c in categories %}<option value="{{ c._id }}" {% if product and product.get('category_id')==c._id %}selected{% endif %}>{{ c.name }}</option>{% endfor %}
    </select>
    <label>Cantidad</label>
    <input type="number" name="quantity" min="0" value="{{ product.quantity if product else 0 }}">
    <label>Precio</label>
    <input type="number" step="0.01" name="price" value="{{ product.price if product else 0 }}">
    <label>Descripción</label>
    <textarea name="description">{{ product.description if product else '' }}</textarea>
    <label>Imagen</label>
    <input type="file" name="image" accept="image/*">
    <div class="form-actions">
      <button class="top-action" type="submit">{{ action }}</button>
      <a class="menu-item" href="{{ url_for('inventory') }}">Cancelar</a>
    </div>
  </form>
</div>
{% endblock %}
